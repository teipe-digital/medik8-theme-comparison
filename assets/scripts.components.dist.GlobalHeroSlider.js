(()=>{"use strict";var t={d:(e,s)=>{for(var o in s)t.o(s,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:s[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{GlobalHeroSlider:()=>GlobalHeroSlider});class GlobalHeroSlider extends HTMLElement{constructor(){super()}connectedCallback(){document.addEventListener(`component-initialisation-${this.dataset.compId}`,(async()=>{document.dispatchEvent(new CustomEvent(`initialisation-confirmed-${this.dataset.compId}`)),this.GlobalHotspotObserver=new ObserverLite({key:"Global.HotspotEvents"});let t=this.querySelector(":scope > template");if(t){try{this.settings=JSON.parse(t.innerHTML)}catch(t){console.log(t)}t.remove(),t=null}const e=`global-carousel-${this.dataset.compId}`,s=this.querySelector(e);await s.ObserverLite.once(),this.emblaApi=s.embla,this.engine=this.emblaApi.internalEngine(),this.controls=this.querySelector(".global-hero-slider__controls"),this.controlsColors=s.dataset.controlsColors.split(","),this.playButton=this.querySelector(".js-ghs__play");const o=s.plugins?.find((({type:t})=>"autoplay"==t));let l=!1;const updatePlayButtonIcon=()=>{o&&(this.playButton.classList.toggle("global-carousel-nav-btn--paused",l),this.playButton.classList.toggle("global-carousel-nav-btn--play",!l))},pauseAutoPlay=()=>{o.pause(),updatePlayButtonIcon()},invisiblePauseAutoPlay=()=>{o&&o.pause()};o&&this.playButton&&this.playButton.addEventListener("click",(()=>{l=!l,l?o.pause():o.play(),updatePlayButtonIcon()})),Array.from(["init","reInit","scroll","settle"]).forEach((t=>this.emblaApi.on(t,(()=>{this.updateCounter()})))),this.updateCounter(),this.emblaApi.on("settle",(()=>{const t=this.engine.index.get(),e=this.querySelectorAll(".global-carousel__slide"),s=Number(e[t].dataset.slideDelay);o.setDelay(s),o&&o.paused&&l&&pauseAutoPlay()})),this.nextButton=this.querySelector(".js-ghs__next"),this.prevButton=this.querySelector(".js-ghs__prev"),this.nextButton?.addEventListener("click",(t=>{t.preventDefault(),this.emblaApi.scrollNext(),invisiblePauseAutoPlay()})),this.prevButton?.addEventListener("click",(t=>{t.preventDefault(),this.emblaApi.scrollPrev(),invisiblePauseAutoPlay()})),this.GlobalHotspotObserver.subscribe((({event:t})=>{"show"===t&&o&&!o.paused&&pauseAutoPlay()}))}))}updateCounter(){if(this.count=this.count||this.querySelector(".js-ghs__count"),null==this.count)return;const t=this.emblaApi.slideNodes().length,e=this.emblaApi.selectedScrollSnap();this.count&&(this.count.innerText=`${e+1} / ${t}`);const[s,o]=this.controlsColors[e].split(""),l=window.matchMedia("(min-width: 768px)");this.controls&&this.controls.style&&(this.controls.style.filter=`invert(${l.matches?s:o})`)}}const s=`global-hero-slider-${document.currentScript.dataset.compId}`;customElements.get(s)||customElements.define(s,GlobalHeroSlider);var o=self;for(var l in e)o[l]=e[l];e.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();